!function(i,n){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){(n===t||t<0&&(t+=this.length)<0)&&(t=0);for(var r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1});function c(e){console.log("Brytescore error: "+e)}function u(e){e+="=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(e))return o.substring(e.length,o.length)}return null}var o,d,l,y,p,b,r,e,t,s=brytescore.q,a=[],f="https://api.brytecore.com",m=31536e6,v=0,g=0,h=0,_="",I=!1,R="javascript",x="2.1.0",U={analytics:"0.3.1"},w=!1,C=!1,S=!1,k="",T=!1,O=function(e,t,r){e=encodeURIComponent(e),t=encodeURIComponent(t),document.cookie=null!==r?e+"="+t+"; expires="+r+"; path=/":e+"="+t+"; path=/"};function N(e,t){var r=new XMLHttpRequest;return"withCredentials"in r?(r.open(e,t,!0),r.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?i.navigator.userAgent.match(/MSIE [6-9]/)?(t=t.replace(/^http(?:s)?\:/,i.location.protocol),(r=new XDomainRequest).open(e,t)):((r=new XDomainRequest).open(e,t),r.setRequestHeader("Content-Type","application/json")):r=null,r}function D(){brytescore.killHeartbeat(),O("brytescore_session",null,new Date(1974,9,18)),I=!0,b=p=n}i.brytescore=function(){""===_&&(_=location.href);var e,t,r=location.href,r=(r!==_&&(i.brytescore.killHeartbeat(),i.brytescore.pageView({}),_=r),[].slice.call(arguments));0===r.length&&c("Invalid method name."),"function"==typeof(t=0<(o=r.shift()).indexOf(".")?(t=(e=o.split("."))[0],e=e[1],"object"==typeof i.brytescore[t]?i.brytescore[t][e]:null):i.brytescore[o])?t.apply(i,r):brytescore.q.push([].slice.call(arguments))},i.brytescore.q=[],i.brytescore.on=function(e,t){a.push(e,t)},i.brytescore.emit=function(e,t){},i.brytescore.removeListener=function(e,t){for(var r=a,o=0;o<r.length;o++)e===r[o][0]&&t===r[o][1]&&a.splice(o,1)},i.brytescore.removeAllListeners=function(e){for(var t=a,r=0;r<t.length;r++)e===t[r][0]&&a.splice(r,1)},i.brytescore.authenticated=function(e,t){var r,o,n,s,a;S||e&&e.isImpersonating||(r=e.userAccount.id,null!==(o=u("brytescore_uu"))?""!==(o=JSON.parse(decodeURIComponent(o))).uid&&o.uid!==r?(n=r,D(),y=n,l=brytescore.generateUUID(),p=brytescore.generateUUID(),s=navigator.userAgent,I=!1,n=JSON.stringify({aid:l,uid:n}),(a=new Date).setTime(a.getTime()+m),O("brytescore_uu",n,a.toUTCString()),brytescore.boost("sessionStarted","started new session",{sessionId:p,browserUA:s,anonymousId:l}),i.brytescore.pageView({})):l=o.aid:l=brytescore.generateUUID(),n=JSON.stringify({aid:l,uid:r}),(a=new Date).setTime(a.getTime()+m),O("brytescore_uu",n,a.toUTCString()),brytescore.boost("authenticated","Logged In",e,t))},i.brytescore.submittedForm=function(e,t){S||e&&e.isImpersonating||brytescore.boost("submittedForm","Submitted a Form",e,t)},i.brytescore.startedChat=function(e,t){S||e&&e.isImpersonating||brytescore.boost("startedChat","User Started a Live Chat",e,t)},i.brytescore.updatedUserInfo=function(e,t){var r,o;S||e&&e.isImpersonating||(o=e.userAccount.id,n!==y&&o===y||(r=u("brytescore_uu"),y=o,l=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:l,uid:o}),(o=new Date).setTime(o.getTime()+m),O("brytescore_uu",r,o.toUTCString())),brytescore.boost("updatedUserInfo","Updated User Information",e,t))},i.brytescore.registeredAccount=function(e,t){var r,o;S||e&&e.isImpersonating||(o=e.userAccount.id,n!==y&&o===y||(r=u("brytescore_uu"),y=o,l=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:l,uid:o}),(o=new Date).setTime(o.getTime()+m),O("brytescore_uu",r,o.toUTCString())),brytescore.boost("registeredAccount","Created a new account",e,t))},i.brytescore.setAPIKey=function(e){d=e;var t=u("brytescore_apikey");(null===t||""!==(t=JSON.parse(decodeURIComponent(t))).apikey&&t.apikey!==e)&&(t=JSON.stringify({apikey:e}),O("brytescore_apikey",t,null))},i.brytescore.devMode=function(e){w=e},i.brytescore.validationMode=function(e){C=e},i.brytescore.localUrl=function(e){k=e},i.brytescore.impersonate=function(e,t){e.isImpersonating&&(S=!0,brytescore.boost("impersonate","Impersonated User",e,t))},i.brytescore.pageView=function(e,t){S||e&&e.isImpersonating||(g=0,b=brytescore.generateUUID(),e.pageUrl=i.location.href,e.pageTitle=document.title,e.referrer=document.referrer,brytescore.boost("pageView","Viewed a Page",e,t),t=navigator.userAgent,e=JSON.stringify({sid:p,brw:t,aid:l}),(t=new Date).setTime(t.getTime()+18e5),O("brytescore_session",e,t.toUTCString()),brytescore.heartBeat(),r=i.setInterval(function(){var e=(new Date).getTime();0===v||e-v<18e5?(v=(new Date).getTime(),brytescore.heartBeat()):(v=0,D(),i.brytescore.updateCookies(),i.brytescore.pageView({}))},15e3))},i.brytescore.killHeartbeat=function(){clearInterval(r)},i.brytescore.boost=function(e,t,r,o){S||r&&r.isImpersonating||!function t(r,o,n,s,a){var i;T?k&&((i=new XMLHttpRequest).open("POST",k,!0),i.setRequestHeader("Content-type","application/json")):i=N("Post",f+"/"+r);void 0===d&&null!==(e=u("brytescore_apikey"))&&""!==(e=JSON.parse(decodeURIComponent(e))).apikey&&brytescore.setAPIKey(e.apikey);{var e;null!==i?(i.timeout=5e3,e=o.indexOf("."),e={event:o,eventDisplayName:n,hostName:location.hostname,apiKey:d,anonymousId:l,userId:y.toString(),pageViewId:b,sessionId:p,library:R,libraryVersion:x,schemaVersion:-1===e?U.analytics:U[o.substring(0,e)],data:s||{}},T&&(e.brytecoreUrl=f+"/"+r),C&&(e.validationOnly=C),i.onload=function(){var e=i.responseText;if(e&&""!==e&&(e=JSON.parse(e))&&e.hasOwnProperty("code"))switch(e.code.toLowerCase()){case"success":case"unauthorizederror":break;case"badrequesterror":c("The request was not properly formatted.")}},i.onreadystatechange=function(){if(4==i.readyState&&a)try{a(i.status,JSON.parse(i.responseText))}catch(e){a(i.status,null,e)}},i.onerror=function(e){if(T=!0,a)try{a(i.status,null,e)}catch(e){a(i.status,null,e)}else t(r,o,n,s,a)},i.ontimeout=function(e){a&&a(i.status,null,e)},e=JSON.stringify(e),w?(console.log(e),a&&a("DevMode",null)):i.send(e)):a&&a("cors not supported",null)}}("boost",e,t,r,o)},i.brytescore.heartBeat=function(){i.brytescore.boost("heartBeat","Heartbeat",{elapsedTime:g}),g+=15},i.brytescore.load=function(e,t){var s=N("GET",e);s.onload=function(){var e=s.readyState;if(!e||/loaded|complete/.test(e)||4===s.readyState&&200===s.status){var t,e=JSON.parse(s.responseText),r=e.events,o=e.namespace;for(t in U[o]=e.version,i.brytescore[o]={},r){i.brytescore.factory=function(e,t,r){return function(){return i.brytescore.boost(t+"."+e,r,arguments[0],arguments[1])}},i.brytescore[o][t]=i.brytescore.factory(t,o,r[t].displayName);for(var n=0;n<i.brytescore.q.length;n++)o+"."+t===i.brytescore.q[n][0]&&(i.brytescore.q[n][2]?i.brytescore[o][t](i.brytescore.q[n][1],i.brytescore.q[n][2]):i.brytescore[o][t](i.brytescore.q[n][1]))}}},s.onerror=function(){t&&brytescore.load(t)},s.send(),i.brytescore.q=[]};var L=function(){0===h&&(n!==t&&(t.removeListener?(t.removeListener("mousemove",L),t.removeListener("click",L),t.removeListener("keyup",L),t.removeListener("scroll",L)):t.detachEvent&&(t.detachEvent("onmousemove",L),t.detachEvent("onkeyup",L),t.detachEvent("onclick",L),t.detachEvent("onscroll",L)),t=n),!0===I&&(i.brytescore.updateCookies(),i.brytescore.pageView({})),clearInterval(h),clearTimeout(e),h=i.setInterval(function(){clearInterval(h),h=0,e=setTimeout(function(){D()},15e5),(t=i).addEventListener?(t.addEventListener("mousemove",L),t.addEventListener("click",L),t.addEventListener("scroll",L),t.addEventListener("keyup",L)):t.attachEvent&&(t.attachEvent("onmousemove",L),t.attachEvent("onclick",L),t.attachEvent("onscroll",L),t.attachEvent("onkeyup",L))},3e5))};for(var j,J,q,E=[],A=0;A<256;A++)E[A]=(A<16?"0":"")+A.toString(16);i.brytescore.generateUUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return E[255&e]+E[e>>8&255]+E[e>>16&255]+E[e>>24&255]+"-"+E[255&t]+E[t>>8&255]+"-"+E[t>>16&15|64]+E[t>>24&255]+"-"+E[63&r|128]+E[r>>8&255]+"-"+E[r>>16&255]+E[r>>24&255]+E[255&o]+E[o>>8&255]+E[o>>16&255]+E[o>>24&255]},i.brytescore.updateCookies=function(){var e,t,r,o=u("brytescore_uu"),n=u("brytescore_session");y=null!==o?(r=JSON.parse(decodeURIComponent(o)),l=r.aid,r.uid):(l=brytescore.generateUUID(),""),e=JSON.stringify({aid:l,uid:y}),(t=new Date).setTime(t.getTime()+m),O("brytescore_uu",e,t.toUTCString()),null!==n&&!0!==I?(r=JSON.parse(decodeURIComponent(n)),p=r.sid):(p=brytescore.generateUUID(),r=navigator.userAgent,e=JSON.stringify({sid:p,brw:r,aid:l}),(t=new Date).setTime(t.getTime()+18e5),O("brytescore_session",e,t.toUTCString()),null===o&&brytescore.boost("brytescoreUUIDCreated","New user id Created",{anonymousId:l}),null!==n&&!0!==I||(I=!1,brytescore.boost("sessionStarted","started new session",{sessionId:p,browserUA:r,anonymousId:l})))},i.brytescore.is_loaded=function(e){console.log("is_loaded function called for package "+e)},i.brytescore.processQueue=function(){for(var e=0;e<s.length;e++)brytescore.apply(document,s[e])},i.brytescore.getApiKey=function(){var e;return void 0!==d?d:null!==(e=u("brytescore_apikey"))&&""!==(e=JSON.parse(decodeURIComponent(e))).apikey?e.apikey:void 0},i.brytescore.getAID=function(){var e=u("brytescore_uu");return l||(null!==e?JSON.parse(decodeURIComponent(e)).aid:void 0)},i.brytescore.getUID=function(){var e=u("brytescore_uu");return y||(null!==e?JSON.parse(decodeURIComponent(e)).uid:void 0)},i.brytescore.init=function(){if(void 0===d)for(var e=0;e<s.length;e++)"setapikey"===s[e][0].toLowerCase()&&(brytescore.setAPIKey(s[e][1]),s.splice(e,1));var t;void 0===d&&null!==(t=u("brytescore_apikey"))&&""!==(t=JSON.parse(decodeURIComponent(t))).apikey&&brytescore.setAPIKey(t.apikey),brytescore.updateCookies(),brytescore.processQueue(),L()},"object"!=typeof JSON?(j="https://cdn.brytecore.com/brytescore.js/JSON3.min.js",J=function(){brytescore.init()},(q=document.createElement("script")).src=j,q.async=!0,q.onreadystatechange=q.onload=function(){var e=q.readyState;J.done||e&&!/loaded|complete/.test(e)||(J.done=!0,J())},document.getElementsByTagName("head")[0].appendChild(q)):brytescore.init()}(window),function(d){try{var l=new XMLHttpRequest,e=d.brytescore.getApiKey(),y=d.brytescore.getAID(),p=d.brytescore.getUID(),t="https://chat-api.brytecore.com/settings/enabled?apiKey="+e+"&domain="+d.location.hostname+"&url="+d.location.href;l.onload=function(){var e=l.response,r=y,o=p;if(e)try{var t,n,s=JSON.parse(e);if(s&&!0===s.data.is_enabled)switch(s.data.chat_version){case"brytebot":d.chatwootSettings=s.data.chatwoot_settings,t=s.data.key,n=s.data.group;var a=s.data.inbox_id,i=s.data.baseurl,c=document.createElement("script"),u=document.head||document.getElementsByTagName("head")[0];c.src="https://chatbot.brytecore.com/packs/js/sdk.js",u.parentNode.insertBefore(c,u),c.onload=function(){d.chatwootSDK.run({websiteToken:a,baseUrl:i})};break;case"commversion":t=s.data.key,n=s.data.group,d.__lc=d.__lc||{},d.__lc.license=t,d.__lc.group=n,d.__lc.chat_between_groups=!1,!function(e,t,r){var o={_q:[],_h:null,_v:"2.0",on:function(){n(["on",r.call(arguments)])},once:function(){n(["once",r.call(arguments)])},off:function(){n(["off",r.call(arguments)])},get:function(){if(o._h)return n(["get",r.call(arguments)]);throw new Error("[LiveChatWidget] You can't use getters before load.")},call:function(){n(["call",r.call(arguments)])},init:function(){var e=t.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(e)}};function n(e){return o._h?o._h.apply(null,e):o._q.push(e)}e.__lc.asyncInit||o.init(),e.LiveChatWidget=e.LiveChatWidget||o}(d,document,[].slice),LiveChatWidget.on("ready",function(e){LiveChatWidget.call("set_session_variables",{cv_exit_event:"false",aid:r,uid:o}),s&&!0!==s.data.is_visible&&LiveChatWidget.call("hide");var t=LiveChatWidget.get("chat_data").threadId;s&&!0!==s.data.is_visible&&null!==t&&LiveChatWidget.call("maximize")}),document.onmouseleave=function(){void 0!==d.__lc&&LiveChatWidget.call("update_session_variables",{cv_exit_event:"true"})},document.onmouseenter=function(){void 0!==d.__lc&&LiveChatWidget.call("update_session_variables",{cv_exit_event:"false"})}}}catch(e){console.error(e)}},l.open("GET",t,!0),l.setRequestHeader("Content-type","application/json"),l.send()}catch(e){console.error(e)}}(window);