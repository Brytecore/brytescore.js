!function(i,a){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){a===t?t=0:t<0&&(t+=this.length)<0&&(t=0);for(var r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1});var c,d,y,p,b,f,n,e,t,o=brytescore.q,s=[],v="https://api.brytecore.com",u=31536e6,l=0,m=0,r=0,g="",h=!1,_="javascript",I="1.1.1",U={analytics:"0.3.1"},C=!1,S=!1,w=!1,k="",T=!1,O=function(e){console.log("Brytescore error: "+e)},N=function(e){e+="=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(e))return o.substring(e.length,o.length)}return null},D=function(e,t,r){e=encodeURIComponent(e),t=encodeURIComponent(t),document.cookie=null!==r?e+"="+t+"; expires="+r+"; path=/":e+"="+t+"; path=/"};function L(e,t){var r=new XMLHttpRequest;return"withCredentials"in r?(r.open(e,t,!0),r.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?i.navigator.userAgent.match(/MSIE [6-9]/)?(t=t.replace(/^http(?:s)?\:/,i.location.protocol),(r=new XDomainRequest).open(e,t)):((r=new XDomainRequest).open(e,t),r.setRequestHeader("Content-Type","application/json")):r=null,r}function J(){brytescore.killHeartbeat(),D("brytescore_session",null,new Date(1974,9,18)),h=!0,f=b=a}i.brytescore=function(){""===g&&(g=location.href);var e=location.href;e!==g&&(i.brytescore.killHeartbeat(),i.brytescore.pageView({}),g=e);var t,r=[].slice.call(arguments);if(0===r.length&&O("Invalid method name."),0<(c=r.shift()).indexOf(".")){var o=c.split("."),n=o[0],s=o[1];t="object"==typeof i.brytescore[n]?i.brytescore[n][s]:null}else t=i.brytescore[c];"function"==typeof t?t.apply(i,r):brytescore.q.push([].slice.call(arguments))},i.brytescore.q=[],i.brytescore.on=function(e,t){s.push(e,t)},i.brytescore.emit=function(e,t){},i.brytescore.removeListener=function(e,t){for(var r=s,o=0;o<r.length;o++)e===r[o][0]&&t===r[o][1]&&s.splice(o,1)},i.brytescore.removeAllListeners=function(e){for(var t=s,r=0;r<t.length;r++)e===t[r][0]&&s.splice(r,1)},i.brytescore.authenticated=function(e,t){if(!(w||e&&e.isImpersonating)){var r,o,n,s=e.userAccount.id,a=N("brytescore_uu");null!==a?""!==(r=JSON.parse(decodeURIComponent(a))).uid&&r.uid!==s?function(e){J(),p=e,y=brytescore.generateUUID(),b=brytescore.generateUUID();var t=navigator.userAgent;h=!1;var r=JSON.stringify({aid:y,uid:e}),o=new Date;o.setTime(o.getTime()+u),D("brytescore_uu",r,o.toUTCString()),brytescore.boost("sessionStarted","started new session",{sessionId:b,browserUA:t,anonymousId:y}),i.brytescore.pageView({})}(s):y=r.aid:y=brytescore.generateUUID(),o=JSON.stringify({aid:y,uid:s}),(n=new Date).setTime(n.getTime()+u),D("brytescore_uu",o,n.toUTCString()),brytescore.boost("authenticated","Logged In",e,t)}},i.brytescore.submittedForm=function(e,t){w||e&&e.isImpersonating||brytescore.boost("submittedForm","Submitted a Form",e,t)},i.brytescore.startedChat=function(e,t){w||e&&e.isImpersonating||brytescore.boost("startedChat","User Started a Live Chat",e,t)},i.brytescore.updatedUserInfo=function(e,t){if(!(w||e&&e.isImpersonating)){var r=e.userAccount.id;if(a===p||r!==p){var o,n,s=N("brytescore_uu");p=r,y=null!==s?JSON.parse(decodeURIComponent(s)).aid:brytescore.generateUUID(),o=JSON.stringify({aid:y,uid:r}),(n=new Date).setTime(n.getTime()+u),D("brytescore_uu",o,n.toUTCString())}brytescore.boost("updatedUserInfo","Updated User Information",e,t)}},i.brytescore.registeredAccount=function(e,t){if(!(w||e&&e.isImpersonating)){var r=e.userAccount.id;if(a===p||r!==p){var o,n,s=N("brytescore_uu");p=r,y=null!==s?JSON.parse(decodeURIComponent(s)).aid:brytescore.generateUUID(),o=JSON.stringify({aid:y,uid:r}),(n=new Date).setTime(n.getTime()+u),D("brytescore_uu",o,n.toUTCString())}brytescore.boost("registeredAccount","Created a new account",e,t)}},i.brytescore.setAPIKey=function(e){d=e;var t,r,o=N("brytescore_apikey");null!==o?""!==(t=JSON.parse(decodeURIComponent(o))).apikey&&t.apikey!==e&&(r=JSON.stringify({apikey:e}),D("brytescore_apikey",r,null)):(r=JSON.stringify({apikey:e}),D("brytescore_apikey",r,null))},i.brytescore.devMode=function(e){C=e},i.brytescore.validationMode=function(e){S=e},i.brytescore.localUrl=function(e){k=e},i.brytescore.impersonate=function(e,t){e.isImpersonating&&(w=!0,brytescore.boost("impersonate","Impersonated User",e,t))},i.brytescore.pageView=function(e,t){if(!(w||e&&e.isImpersonating)){m=0,f=brytescore.generateUUID(),e.pageUrl=i.location.href,e.pageTitle=document.title,e.referrer=document.referrer,brytescore.boost("pageView","Viewed a Page",e,t);var r=navigator.userAgent;e=JSON.stringify({sid:b,brw:r,aid:y});var o=new Date;o.setTime(o.getTime()+18e5),D("brytescore_session",e,o.toUTCString()),brytescore.heartBeat(),n=i.setInterval(function(){var e=(new Date).getTime();0===l||e-l<18e5?(l=(new Date).getTime(),brytescore.heartBeat()):(l=0,J(),i.brytescore.updateCookies(),i.brytescore.pageView({}))},15e3)}},i.brytescore.killHeartbeat=function(){clearInterval(n)},i.brytescore.boost=function(e,t,r,o){w||r&&r.isImpersonating||!function t(r,o,n,s,a){var i;T?k&&((i=new XMLHttpRequest).open("POST",k,!0),i.setRequestHeader("Content-type","application/json")):i=L("Post",v+"/"+r);if(void 0===d){var e,c=N("brytescore_apikey");null!==c&&""!==(e=JSON.parse(decodeURIComponent(c))).apikey&&brytescore.setAPIKey(e.apikey)}if(null!==i){i.timeout=5e3;var u=o.indexOf("."),l={event:o,eventDisplayName:n,hostName:location.hostname,apiKey:d,anonymousId:y,userId:p.toString(),pageViewId:f,sessionId:b,library:_,libraryVersion:I,schemaVersion:-1===u?U.analytics:U[o.substring(0,u)],data:s||{}};T&&(l.brytecoreUrl=v+"/"+r),S&&(l.validationOnly=S),i.onload=function(){var e=i.responseText;if(e&&""!==e&&(e=JSON.parse(e))&&e.hasOwnProperty("code"))switch(e.code.toLowerCase()){case"success":case"unauthorizederror":break;case"badrequesterror":O("The request was not properly formatted.")}},i.onreadystatechange=function(){if(4==i.readyState&&a)try{a(i.status,JSON.parse(i.responseText))}catch(e){a(i.status,null,e)}},i.onerror=function(e){if(T=!0,a)try{a(i.status,null,e)}catch(e){a(i.status,null,e)}else t(r,o,n,s,a)},i.ontimeout=function(e){a&&a(i.status,null,e)},l=JSON.stringify(l),C?(console.log(l),a&&a("DevMode",null)):i.send(l)}else a&&a("cors not supported",null)}("boost",e,t,r,o)},i.brytescore.heartBeat=function(){i.brytescore.boost("heartBeat","Heartbeat",{elapsedTime:m}),m+=15},i.brytescore.load=function(e,t){var a=L("GET",e);a.onload=function(){var e=a.readyState;if(!e||/loaded|complete/.test(e)||4===a.readyState&&200===a.status){var t=JSON.parse(a.responseText),r=t.events,o=t.namespace;for(var n in U[o]=t.version,i.brytescore[o]={},r){i.brytescore.factory=function(e,t,r){return function(){return i.brytescore.boost(t+"."+e,r,arguments[0],arguments[1])}},i.brytescore[o][n]=i.brytescore.factory(n,o,r[n].displayName);for(var s=0;s<i.brytescore.q.length;s++)o+"."+n===i.brytescore.q[s][0]&&(i.brytescore.q[s][2]?i.brytescore[o][n](i.brytescore.q[s][1],i.brytescore.q[s][2]):i.brytescore[o][n](i.brytescore.q[s][1]))}}},a.onerror=function(){t&&brytescore.load(t)},a.send(),i.brytescore.q=[]};var q=function(){0===r&&(a!==t&&function(){t.removeListener?(t.removeListener("mousemove",q),t.removeListener("click",q),t.removeListener("keyup",q),t.removeListener("scroll",q)):t.detachEvent&&(t.detachEvent("onmousemove",q),t.detachEvent("onkeyup",q),t.detachEvent("onclick",q),t.detachEvent("onscroll",q));t=a}(),!0===h&&(i.brytescore.updateCookies(),i.brytescore.pageView({})),clearInterval(r),clearTimeout(e),r=i.setInterval(function(){clearInterval(r),r=0,e=setTimeout(function(){J()},15e5),(t=i).addEventListener?(t.addEventListener("mousemove",q),t.addEventListener("click",q),t.addEventListener("scroll",q),t.addEventListener("keyup",q)):t.attachEvent&&(t.attachEvent("onmousemove",q),t.attachEvent("onclick",q),t.attachEvent("onscroll",q),t.attachEvent("onkeyup",q))},3e5))};for(var A,R,E,x=[],j=0;j<256;j++)x[j]=(j<16?"0":"")+j.toString(16);i.brytescore.generateUUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return x[255&e]+x[e>>8&255]+x[e>>16&255]+x[e>>24&255]+"-"+x[255&t]+x[t>>8&255]+"-"+x[t>>16&15|64]+x[t>>24&255]+"-"+x[63&r|128]+x[r>>8&255]+"-"+x[r>>16&255]+x[r>>24&255]+x[255&o]+x[o>>8&255]+x[o>>16&255]+x[o>>24&255]},i.brytescore.updateCookies=function(){var e,t,r,o,n=N("brytescore_uu"),s=N("brytescore_session");p=null!==n?(e=JSON.parse(decodeURIComponent(n)),y=e.aid,e.uid):(y=brytescore.generateUUID(),""),t=JSON.stringify({aid:y,uid:p}),(r=new Date).setTime(r.getTime()+u),D("brytescore_uu",t,r.toUTCString()),null!==s&&!0!==h?(e=JSON.parse(decodeURIComponent(s)),b=e.sid):(b=brytescore.generateUUID(),o=navigator.userAgent,t=JSON.stringify({sid:b,brw:o,aid:y}),(r=new Date).setTime(r.getTime()+18e5),D("brytescore_session",t,r.toUTCString()),null===n&&brytescore.boost("brytescoreUUIDCreated","New user id Created",{anonymousId:y}),null!==s&&!0!==h||(h=!1,brytescore.boost("sessionStarted","started new session",{sessionId:b,browserUA:o,anonymousId:y})))},i.brytescore.is_loaded=function(e){console.log("is_loaded function called for package "+e)},i.brytescore.processQueue=function(){for(var e=0;e<o.length;e++)brytescore.apply(document,o[e])},i.brytescore.getApiKey=function(){if(void 0!==d)return d;var e,t=N("brytescore_apikey");return null!==t&&""!==(e=JSON.parse(decodeURIComponent(t))).apikey?e.apikey:void 0},i.brytescore.getAID=function(){var e=N("brytescore_uu");return y||(null!==e?JSON.parse(decodeURIComponent(e)).aid:void 0)},i.brytescore.getUID=function(){var e=N("brytescore_uu");return p||(null!==e?JSON.parse(decodeURIComponent(e)).uid:void 0)},i.brytescore.init=function(){if(void 0===d)for(var e=0;e<o.length;e++)"setapikey"===o[e][0].toLowerCase()&&(brytescore.setAPIKey(o[e][1]),o.splice(e,1));if(void 0===d){var t,r=N("brytescore_apikey");null!==r&&""!==(t=JSON.parse(decodeURIComponent(r))).apikey&&brytescore.setAPIKey(t.apikey)}brytescore.updateCookies(),brytescore.processQueue(),q()},"object"!=typeof JSON?(A="https://cdn.brytecore.com/brytescore.js/JSON3.min.js",R=function(){brytescore.init()},(E=document.createElement("script")).src=A,E.async=!0,E.onreadystatechange=E.onload=function(){var e=E.readyState;R.done||e&&!/loaded|complete/.test(e)||(R.done=!0,R())},document.getElementsByTagName("head")[0].appendChild(E)):brytescore.init()}(window),function(a){try{var e=new XMLHttpRequest,t=a.brytescore.getApiKey(),r=a.brytescore.getAID(),o=a.brytescore.getUID(),n="https://chat-api.brytecore.com/settings/enabled?apiKey="+t+"&domain="+a.location.hostname+"&url="+a.location.href;e.onload=function(){!function(e,t,r){if(e)try{var o=JSON.parse(e);if(o&&!0===o.data.is_enabled){var n=o.data.key,s=o.data.group;a.__lc=a.__lc||{},a.__lc.license=n,a.__lc.group=s,a.__lc.chat_between_groups=!1,function(e,t,r){function o(e){return n._h?n._h.apply(null,e):n._q.push(e)}var n={_q:[],_h:null,_v:"2.0",on:function(){o(["on",r.call(arguments)])},once:function(){o(["once",r.call(arguments)])},off:function(){o(["off",r.call(arguments)])},get:function(){if(!n._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return o(["get",r.call(arguments)])},call:function(){o(["call",r.call(arguments)])},init:function(){var e=t.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(e)}};e.__lc.asyncInit||n.init(),e.LiveChatWidget=e.LiveChatWidget||n}(a,document,[].slice),LiveChatWidget.call("set_session_variables",{cv_exit_event:"false",aid:t,uid:r}),o&&!0!==o.data.is_visible&&LiveChatWidget.call("hide"),LiveChatWidget.on("ready",function(e){var t=LiveChatWidget.get("chat_data").threadId;o&&!0!==o.data.is_visible&&null!==t&&LiveChatWidget.call("maximize")}),document.onmouseleave=function(){void 0!==a.__lc&&LiveChatWidget.call("update_session_variables",{cv_exit_event:"true"})},document.onmouseenter=function(){void 0!==a.__lc&&LiveChatWidget.call("update_session_variables",{cv_exit_event:"false"})}}}catch(e){console.error(e)}}(e.response,r,o)},e.open("GET",n,!0),e.setRequestHeader("Content-type","application/json"),e.send()}catch(e){console.error(e)}}(window);