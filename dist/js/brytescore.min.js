!function(i,n){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){(n===t||t<0&&(t+=this.length)<0)&&(t=0);for(var r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1});function c(e){console.log("Brytescore error: "+e)}function u(e){e+="=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(e))return o.substring(e.length,o.length)}return null}var o,d,y,l,p,b,r,e,t,s=brytescore.q,a=[],m="https://api.brytecore.com",f=31536e6,g=0,v=0,h=0,I="",U=!1,L="javascript",j="2.0.2",S={analytics:"0.3.1"},w=!1,T=!1,C=!1,k="",O=!1,N=function(e,t,r){e=encodeURIComponent(e),t=encodeURIComponent(t),document.cookie=null!==r?e+"="+t+"; expires="+r+"; path=/":e+"="+t+"; path=/"};function D(e,t){var r=new XMLHttpRequest;return"withCredentials"in r?(r.open(e,t,!0),r.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?i.navigator.userAgent.match(/MSIE [6-9]/)?(t=t.replace(/^http(?:s)?\:/,i.location.protocol),(r=new XDomainRequest).open(e,t)):((r=new XDomainRequest).open(e,t),r.setRequestHeader("Content-Type","application/json")):r=null,r}function J(){brytescore.killHeartbeat(),N("brytescore_session",null,new Date(1974,9,18)),U=!0,b=p=n}i.brytescore=function(){""===I&&(I=location.href);var e,t,r=location.href,r=(r!==I&&(i.brytescore.killHeartbeat(),i.brytescore.pageView({}),I=r),[].slice.call(arguments));0===r.length&&c("Invalid method name."),"function"==typeof(t=0<(o=r.shift()).indexOf(".")?(t=(e=o.split("."))[0],e=e[1],"object"==typeof i.brytescore[t]?i.brytescore[t][e]:null):i.brytescore[o])?t.apply(i,r):brytescore.q.push([].slice.call(arguments))},i.brytescore.q=[],i.brytescore.on=function(e,t){a.push(e,t)},i.brytescore.emit=function(e,t){},i.brytescore.removeListener=function(e,t){for(var r=a,o=0;o<r.length;o++)e===r[o][0]&&t===r[o][1]&&a.splice(o,1)},i.brytescore.removeAllListeners=function(e){for(var t=a,r=0;r<t.length;r++)e===t[r][0]&&a.splice(r,1)},i.brytescore.authenticated=function(e,t){var r,o,n,s,a;C||e&&e.isImpersonating||(r=e.userAccount.id,null!==(o=u("brytescore_uu"))?""!==(o=JSON.parse(decodeURIComponent(o))).uid&&o.uid!==r?(n=r,J(),l=n,y=brytescore.generateUUID(),p=brytescore.generateUUID(),s=navigator.userAgent,U=!1,n=JSON.stringify({aid:y,uid:n}),(a=new Date).setTime(a.getTime()+f),N("brytescore_uu",n,a.toUTCString()),brytescore.boost("sessionStarted","started new session",{sessionId:p,browserUA:s,anonymousId:y}),i.brytescore.pageView({})):y=o.aid:y=brytescore.generateUUID(),n=JSON.stringify({aid:y,uid:r}),(a=new Date).setTime(a.getTime()+f),N("brytescore_uu",n,a.toUTCString()),brytescore.boost("authenticated","Logged In",e,t))},i.brytescore.submittedForm=function(e,t){C||e&&e.isImpersonating||brytescore.boost("submittedForm","Submitted a Form",e,t)},i.brytescore.startedChat=function(e,t){C||e&&e.isImpersonating||brytescore.boost("startedChat","User Started a Live Chat",e,t)},i.brytescore.updatedUserInfo=function(e,t){var r,o;C||e&&e.isImpersonating||(o=e.userAccount.id,n!==l&&o===l||(r=u("brytescore_uu"),l=o,y=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:y,uid:o}),(o=new Date).setTime(o.getTime()+f),N("brytescore_uu",r,o.toUTCString())),brytescore.boost("updatedUserInfo","Updated User Information",e,t))},i.brytescore.registeredAccount=function(e,t){var r,o;C||e&&e.isImpersonating||(o=e.userAccount.id,n!==l&&o===l||(r=u("brytescore_uu"),l=o,y=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:y,uid:o}),(o=new Date).setTime(o.getTime()+f),N("brytescore_uu",r,o.toUTCString())),brytescore.boost("registeredAccount","Created a new account",e,t))},i.brytescore.setAPIKey=function(e){d=e;var t=u("brytescore_apikey");(null===t||""!==(t=JSON.parse(decodeURIComponent(t))).apikey&&t.apikey!==e)&&(t=JSON.stringify({apikey:e}),N("brytescore_apikey",t,null))},i.brytescore.devMode=function(e){w=e},i.brytescore.validationMode=function(e){T=e},i.brytescore.localUrl=function(e){k=e},i.brytescore.impersonate=function(e,t){e.isImpersonating&&(C=!0,brytescore.boost("impersonate","Impersonated User",e,t))},i.brytescore.pageView=function(e,t){C||e&&e.isImpersonating||(v=0,b=brytescore.generateUUID(),e.pageUrl=i.location.href,e.pageTitle=document.title,e.referrer=document.referrer,brytescore.boost("pageView","Viewed a Page",e,t),t=navigator.userAgent,e=JSON.stringify({sid:p,brw:t,aid:y}),(t=new Date).setTime(t.getTime()+18e5),N("brytescore_session",e,t.toUTCString()),brytescore.heartBeat(),r=i.setInterval(function(){var e=(new Date).getTime();0===g||e-g<18e5?(g=(new Date).getTime(),brytescore.heartBeat()):(g=0,J(),i.brytescore.updateCookies(),i.brytescore.pageView({}))},15e3))},i.brytescore.killHeartbeat=function(){clearInterval(r)},i.brytescore.boost=function(e,t,r,o){C||r&&r.isImpersonating||!function t(r,o,n,s,a){var i;O?k&&((i=new XMLHttpRequest).open("POST",k,!0),i.setRequestHeader("Content-type","application/json")):i=D("Post",m+"/"+r);void 0===d&&null!==(e=u("brytescore_apikey"))&&""!==(e=JSON.parse(decodeURIComponent(e))).apikey&&brytescore.setAPIKey(e.apikey);{var e;null!==i?(i.timeout=5e3,e=o.indexOf("."),e={event:o,eventDisplayName:n,hostName:location.hostname,apiKey:d,anonymousId:y,userId:l.toString(),pageViewId:b,sessionId:p,library:L,libraryVersion:j,schemaVersion:-1===e?S.analytics:S[o.substring(0,e)],data:s||{}},O&&(e.brytecoreUrl=m+"/"+r),T&&(e.validationOnly=T),i.onload=function(){var e=i.responseText;if(e&&""!==e&&(e=JSON.parse(e))&&e.hasOwnProperty("code"))switch(e.code.toLowerCase()){case"success":case"unauthorizederror":break;case"badrequesterror":c("The request was not properly formatted.")}},i.onreadystatechange=function(){if(4==i.readyState&&a)try{a(i.status,JSON.parse(i.responseText))}catch(e){a(i.status,null,e)}},i.onerror=function(e){if(O=!0,a)try{a(i.status,null,e)}catch(e){a(i.status,null,e)}else t(r,o,n,s,a)},i.ontimeout=function(e){a&&a(i.status,null,e)},e=JSON.stringify(e),w?(console.log(e),a&&a("DevMode",null)):i.send(e)):a&&a("cors not supported",null)}}("boost",e,t,r,o)},i.brytescore.heartBeat=function(){i.brytescore.boost("heartBeat","Heartbeat",{elapsedTime:v}),v+=15},i.brytescore.load=function(e,t){var s=D("GET",e);s.onload=function(){var e=s.readyState;if(!e||/loaded|complete/.test(e)||4===s.readyState&&200===s.status){var t,e=JSON.parse(s.responseText),r=e.events,o=e.namespace;for(t in S[o]=e.version,i.brytescore[o]={},r){i.brytescore.factory=function(e,t,r){return function(){return i.brytescore.boost(t+"."+e,r,arguments[0],arguments[1])}},i.brytescore[o][t]=i.brytescore.factory(t,o,r[t].displayName);for(var n=0;n<i.brytescore.q.length;n++)o+"."+t===i.brytescore.q[n][0]&&(i.brytescore.q[n][2]?i.brytescore[o][t](i.brytescore.q[n][1],i.brytescore.q[n][2]):i.brytescore[o][t](i.brytescore.q[n][1]))}}},s.onerror=function(){t&&brytescore.load(t)},s.send(),i.brytescore.q=[]};var _=function(){0===h&&(n!==t&&(t.removeListener?(t.removeListener("mousemove",_),t.removeListener("click",_),t.removeListener("keyup",_),t.removeListener("scroll",_)):t.detachEvent&&(t.detachEvent("onmousemove",_),t.detachEvent("onkeyup",_),t.detachEvent("onclick",_),t.detachEvent("onscroll",_)),t=n),!0===U&&(i.brytescore.updateCookies(),i.brytescore.pageView({})),clearInterval(h),clearTimeout(e),h=i.setInterval(function(){clearInterval(h),h=0,e=setTimeout(function(){J()},15e5),(t=i).addEventListener?(t.addEventListener("mousemove",_),t.addEventListener("click",_),t.addEventListener("scroll",_),t.addEventListener("keyup",_)):t.attachEvent&&(t.attachEvent("onmousemove",_),t.attachEvent("onclick",_),t.attachEvent("onscroll",_),t.attachEvent("onkeyup",_))},3e5))};for(var H,A,R,q=[],E=0;E<256;E++)q[E]=(E<16?"0":"")+E.toString(16);i.brytescore.generateUUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return q[255&e]+q[e>>8&255]+q[e>>16&255]+q[e>>24&255]+"-"+q[255&t]+q[t>>8&255]+"-"+q[t>>16&15|64]+q[t>>24&255]+"-"+q[63&r|128]+q[r>>8&255]+"-"+q[r>>16&255]+q[r>>24&255]+q[255&o]+q[o>>8&255]+q[o>>16&255]+q[o>>24&255]},i.brytescore.updateCookies=function(){var e,t,r,o=u("brytescore_uu"),n=u("brytescore_session");l=null!==o?(r=JSON.parse(decodeURIComponent(o)),y=r.aid,r.uid):(y=brytescore.generateUUID(),""),e=JSON.stringify({aid:y,uid:l}),(t=new Date).setTime(t.getTime()+f),N("brytescore_uu",e,t.toUTCString()),null!==n&&!0!==U?(r=JSON.parse(decodeURIComponent(n)),p=r.sid):(p=brytescore.generateUUID(),r=navigator.userAgent,e=JSON.stringify({sid:p,brw:r,aid:y}),(t=new Date).setTime(t.getTime()+18e5),N("brytescore_session",e,t.toUTCString()),null===o&&brytescore.boost("brytescoreUUIDCreated","New user id Created",{anonymousId:y}),null!==n&&!0!==U||(U=!1,brytescore.boost("sessionStarted","started new session",{sessionId:p,browserUA:r,anonymousId:y})))},i.brytescore.is_loaded=function(e){console.log("is_loaded function called for package "+e)},i.brytescore.processQueue=function(){for(var e=0;e<s.length;e++)brytescore.apply(document,s[e])},i.brytescore.getApiKey=function(){var e;return void 0!==d?d:null!==(e=u("brytescore_apikey"))&&""!==(e=JSON.parse(decodeURIComponent(e))).apikey?e.apikey:void 0},i.brytescore.getAID=function(){var e=u("brytescore_uu");return y||(null!==e?JSON.parse(decodeURIComponent(e)).aid:void 0)},i.brytescore.getUID=function(){var e=u("brytescore_uu");return l||(null!==e?JSON.parse(decodeURIComponent(e)).uid:void 0)},i.brytescore.init=function(){if(void 0===d)for(var e=0;e<s.length;e++)"setapikey"===s[e][0].toLowerCase()&&(brytescore.setAPIKey(s[e][1]),s.splice(e,1));var t;void 0===d&&null!==(t=u("brytescore_apikey"))&&""!==(t=JSON.parse(decodeURIComponent(t))).apikey&&brytescore.setAPIKey(t.apikey),brytescore.updateCookies(),brytescore.processQueue(),_()},"object"!=typeof JSON?(H="https://cdn.brytecore.com/brytescore.js/JSON3.min.js",A=function(){brytescore.init()},(R=document.createElement("script")).src=H,R.async=!0,R.onreadystatechange=R.onload=function(){var e=R.readyState;A.done||e&&!/loaded|complete/.test(e)||(A.done=!0,A())},document.getElementsByTagName("head")[0].appendChild(R)):brytescore.init()}(window),function(a){try{var i=new XMLHttpRequest,e=a.brytescore.getApiKey(),t=(a.brytescore.getAID(),a.brytescore.getUID(),"https://chat-api.brytecore.net/settings/enabled?apiKey="+e+"&domain="+a.location.hostname+"&url="+a.location.href);i.onload=function(){var e=i.response;if(e)try{var t,r,o,n,s=JSON.parse(e);s&&!0===s.data.is_enabled&&(s.data.key,s.data.group,t=s.data.inbox_id,r=s.data.baseurl,o=document.createElement("script"),n=document.head||document.getElementsByTagName("head")[0],o.src="https://chat-api.brytecore.net/app/js/sdk.js",n.parentNode.insertBefore(o,n),o.onload=function(){a.chatwootSDK.run({websiteToken:t,baseUrl:r})})}catch(e){console.error(e)}},i.open("GET",t,!0),i.setRequestHeader("Content-type","application/json"),i.send()}catch(e){console.error(e)}}(window);