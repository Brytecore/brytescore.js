!function(i,s){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){(s===t||t<0&&(t+=this.length)<0)&&(t=0);for(var r=this.length;t<r;t++)if(t in this&&this[t]===e)return t;return-1});function p(e){console.log("Brytescore error: "+e)}function u(e){e+="=";for(var t=document.cookie.split(";"),r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(e))return o.substring(e.length,o.length)}return null}var a,m,d,y,l,f,r,t,e,g=brytescore.q,v=[],h="https://api.brytecore.com",I=31536e6,U=0,S=0,w=0,T="",C=!1,k="javascript",O="1.1.2",N={analytics:"0.3.1"},D=!1,J=!1,c=!1,_="",A=!1,b=function(e,t,r){e=encodeURIComponent(e),t=encodeURIComponent(t),document.cookie=null!==r?e+"="+t+"; expires="+r+"; path=/":e+"="+t+"; path=/"};function R(e,t){var r=new XMLHttpRequest;return"withCredentials"in r?(r.open(e,t,!0),r.setRequestHeader("Content-Type","application/json")):"undefined"!=typeof XDomainRequest?i.navigator.userAgent.match(/MSIE [6-9]/)?(t=t.replace(/^http(?:s)?\:/,i.location.protocol),(r=new XDomainRequest).open(e,t)):((r=new XDomainRequest).open(e,t),r.setRequestHeader("Content-Type","application/json")):r=null,r}function q(){brytescore.killHeartbeat(),b("brytescore_session",null,new Date(1974,9,18)),C=!0,f=l=s}i.brytescore=function(){""===T&&(T=location.href);var e,t,r=location.href,r=(r!==T&&(i.brytescore.killHeartbeat(),i.brytescore.pageView({}),T=r),[].slice.call(arguments));0===r.length&&p("Invalid method name."),"function"==typeof(t=0<(a=r.shift()).indexOf(".")?(t=(e=a.split("."))[0],e=e[1],"object"==typeof i.brytescore[t]?i.brytescore[t][e]:null):i.brytescore[a])?t.apply(i,r):brytescore.q.push([].slice.call(arguments))},i.brytescore.q=[],i.brytescore.on=function(e,t){v.push(e,t)},i.brytescore.emit=function(e,t){},i.brytescore.removeListener=function(e,t){for(var r=v,o=0;o<r.length;o++)e===r[o][0]&&t===r[o][1]&&v.splice(o,1)},i.brytescore.removeAllListeners=function(e){for(var t=v,r=0;r<t.length;r++)e===t[r][0]&&v.splice(r,1)},i.brytescore.authenticated=function(e,t){var r,o,n,s,a;c||e&&e.isImpersonating||(r=e.userAccount.id,null!==(o=u("brytescore_uu"))?""!==(o=JSON.parse(decodeURIComponent(o))).uid&&o.uid!==r?(n=r,q(),y=n,d=brytescore.generateUUID(),l=brytescore.generateUUID(),s=navigator.userAgent,C=!1,n=JSON.stringify({aid:d,uid:n}),(a=new Date).setTime(a.getTime()+I),b("brytescore_uu",n,a.toUTCString()),brytescore.boost("sessionStarted","started new session",{sessionId:l,browserUA:s,anonymousId:d}),i.brytescore.pageView({})):d=o.aid:d=brytescore.generateUUID(),n=JSON.stringify({aid:d,uid:r}),(a=new Date).setTime(a.getTime()+I),b("brytescore_uu",n,a.toUTCString()),brytescore.boost("authenticated","Logged In",e,t))},i.brytescore.submittedForm=function(e,t){c||e&&e.isImpersonating||brytescore.boost("submittedForm","Submitted a Form",e,t)},i.brytescore.startedChat=function(e,t){c||e&&e.isImpersonating||brytescore.boost("startedChat","User Started a Live Chat",e,t)},i.brytescore.updatedUserInfo=function(e,t){var r,o;c||e&&e.isImpersonating||(o=e.userAccount.id,s!==y&&o===y||(r=u("brytescore_uu"),y=o,d=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:d,uid:o}),(o=new Date).setTime(o.getTime()+I),b("brytescore_uu",r,o.toUTCString())),brytescore.boost("updatedUserInfo","Updated User Information",e,t))},i.brytescore.registeredAccount=function(e,t){var r,o;c||e&&e.isImpersonating||(o=e.userAccount.id,s!==y&&o===y||(r=u("brytescore_uu"),y=o,d=null!==r?JSON.parse(decodeURIComponent(r)).aid:brytescore.generateUUID(),r=JSON.stringify({aid:d,uid:o}),(o=new Date).setTime(o.getTime()+I),b("brytescore_uu",r,o.toUTCString())),brytescore.boost("registeredAccount","Created a new account",e,t))},i.brytescore.setAPIKey=function(e){m=e;var t=u("brytescore_apikey");(null===t||""!==(t=JSON.parse(decodeURIComponent(t))).apikey&&t.apikey!==e)&&(t=JSON.stringify({apikey:e}),b("brytescore_apikey",t,null))},i.brytescore.devMode=function(e){D=e},i.brytescore.validationMode=function(e){J=e},i.brytescore.localUrl=function(e){_=e},i.brytescore.impersonate=function(e,t){e.isImpersonating&&(c=!0,brytescore.boost("impersonate","Impersonated User",e,t))},i.brytescore.pageView=function(e,t){c||e&&e.isImpersonating||(S=0,f=brytescore.generateUUID(),e.pageUrl=i.location.href,e.pageTitle=document.title,e.referrer=document.referrer,brytescore.boost("pageView","Viewed a Page",e,t),t=navigator.userAgent,e=JSON.stringify({sid:l,brw:t,aid:d}),(t=new Date).setTime(t.getTime()+18e5),b("brytescore_session",e,t.toUTCString()),brytescore.heartBeat(),r=i.setInterval(function(){var e=(new Date).getTime();0===U||e-U<18e5?(U=(new Date).getTime(),brytescore.heartBeat()):(U=0,q(),i.brytescore.updateCookies(),i.brytescore.pageView({}))},15e3))},i.brytescore.killHeartbeat=function(){clearInterval(r)},i.brytescore.boost=function(e,t,r,o){c||r&&r.isImpersonating||!function t(r,o,n,s,a){var i;A?_&&((i=new XMLHttpRequest).open("POST",_,!0),i.setRequestHeader("Content-type","application/json")):i=R("Post",h+"/"+r);void 0!==m||null!==(e=u("brytescore_apikey"))&&""!==(c=JSON.parse(decodeURIComponent(e))).apikey&&brytescore.setAPIKey(c.apikey);{var e,c;null!==i?(i.timeout=5e3,e=o.indexOf("."),c={event:o,eventDisplayName:n,hostName:location.hostname,apiKey:m,anonymousId:d,userId:y.toString(),pageViewId:f,sessionId:l,library:k,libraryVersion:O,schemaVersion:-1===e?N.analytics:N[o.substring(0,e)],data:s||{}},A&&(c.brytecoreUrl=h+"/"+r),J&&(c.validationOnly=J),i.onload=function(){var e=i.responseText;if(e&&""!==e&&(e=JSON.parse(e))&&e.hasOwnProperty("code"))switch(e.code.toLowerCase()){case"success":case"unauthorizederror":break;case"badrequesterror":p("The request was not properly formatted.")}},i.onreadystatechange=function(){if(4==i.readyState&&a)try{a(i.status,JSON.parse(i.responseText))}catch(e){a(i.status,null,e)}},i.onerror=function(e){if(A=!0,a)try{a(i.status,null,e)}catch(e){a(i.status,null,e)}else t(r,o,n,s,a)},i.ontimeout=function(e){a&&a(i.status,null,e)},c=JSON.stringify(c),D?(console.log(c),a&&a("DevMode",null)):i.send(c)):a&&a("cors not supported",null)}}("boost",e,t,r,o)},i.brytescore.heartBeat=function(){i.brytescore.boost("heartBeat","Heartbeat",{elapsedTime:S}),S+=15},i.brytescore.load=function(e,t){var s=R("GET",e);s.onload=function(){var e=s.readyState;if(!e||/loaded|complete/.test(e)||4===s.readyState&&200===s.status){var t,e=JSON.parse(s.responseText),r=e.events,o=e.namespace;for(t in N[o]=e.version,i.brytescore[o]={},r){i.brytescore.factory=function(e,t,r){return function(){return i.brytescore.boost(t+"."+e,r,arguments[0],arguments[1])}},i.brytescore[o][t]=i.brytescore.factory(t,o,r[t].displayName);for(var n=0;n<i.brytescore.q.length;n++)o+"."+t===i.brytescore.q[n][0]&&(i.brytescore.q[n][2]?i.brytescore[o][t](i.brytescore.q[n][1],i.brytescore.q[n][2]):i.brytescore[o][t](i.brytescore.q[n][1]))}}},s.onerror=function(){t&&brytescore.load(t)},s.send(),i.brytescore.q=[]};var o=function(){0===w&&(s!==e&&(e.removeListener?(e.removeListener("mousemove",o),e.removeListener("click",o),e.removeListener("keyup",o),e.removeListener("scroll",o)):e.detachEvent&&(e.detachEvent("onmousemove",o),e.detachEvent("onkeyup",o),e.detachEvent("onclick",o),e.detachEvent("onscroll",o)),e=s),!0===C&&(i.brytescore.updateCookies(),i.brytescore.pageView({})),clearInterval(w),clearTimeout(t),w=i.setInterval(function(){clearInterval(w),w=0,t=setTimeout(function(){q()},15e5),(e=i).addEventListener?(e.addEventListener("mousemove",o),e.addEventListener("click",o),e.addEventListener("scroll",o),e.addEventListener("keyup",o)):e.attachEvent&&(e.attachEvent("onmousemove",o),e.attachEvent("onclick",o),e.attachEvent("onscroll",o),e.attachEvent("onkeyup",o))},3e5))};for(var E,L,j,n=[],H=0;H<256;H++)n[H]=(H<16?"0":"")+H.toString(16);i.brytescore.generateUUID=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+"-"+n[255&t]+n[t>>8&255]+"-"+n[t>>16&15|64]+n[t>>24&255]+"-"+n[63&r|128]+n[r>>8&255]+"-"+n[r>>16&255]+n[r>>24&255]+n[255&o]+n[o>>8&255]+n[o>>16&255]+n[o>>24&255]},i.brytescore.updateCookies=function(){var e,t,r,o=u("brytescore_uu"),n=u("brytescore_session");y=null!==o?(r=JSON.parse(decodeURIComponent(o)),d=r.aid,r.uid):(d=brytescore.generateUUID(),""),e=JSON.stringify({aid:d,uid:y}),(t=new Date).setTime(t.getTime()+I),b("brytescore_uu",e,t.toUTCString()),null!==n&&!0!==C?(r=JSON.parse(decodeURIComponent(n)),l=r.sid):(l=brytescore.generateUUID(),r=navigator.userAgent,e=JSON.stringify({sid:l,brw:r,aid:d}),(t=new Date).setTime(t.getTime()+18e5),b("brytescore_session",e,t.toUTCString()),null===o&&brytescore.boost("brytescoreUUIDCreated","New user id Created",{anonymousId:d}),null!==n&&!0!==C||(C=!1,brytescore.boost("sessionStarted","started new session",{sessionId:l,browserUA:r,anonymousId:d})))},i.brytescore.is_loaded=function(e){console.log("is_loaded function called for package "+e)},i.brytescore.processQueue=function(){for(var e=0;e<g.length;e++)brytescore.apply(document,g[e])},i.brytescore.getApiKey=function(){if(void 0!==m)return m;var e,t=u("brytescore_apikey");return null!==t&&""!==(e=JSON.parse(decodeURIComponent(t))).apikey?e.apikey:void 0},i.brytescore.getAID=function(){var e=u("brytescore_uu");return d||(null!==e?JSON.parse(decodeURIComponent(e)).aid:void 0)},i.brytescore.getUID=function(){var e=u("brytescore_uu");return y||(null!==e?JSON.parse(decodeURIComponent(e)).uid:void 0)},i.brytescore.init=function(){if(void 0===m)for(var e=0;e<g.length;e++)"setapikey"===g[e][0].toLowerCase()&&(brytescore.setAPIKey(g[e][1]),g.splice(e,1));var t,r;void 0!==m||null!==(t=u("brytescore_apikey"))&&""!==(r=JSON.parse(decodeURIComponent(t))).apikey&&brytescore.setAPIKey(r.apikey),brytescore.updateCookies(),brytescore.processQueue(),o()},"object"!=typeof JSON?(E="https://cdn.brytecore.com/brytescore.js/JSON3.min.js",L=function(){brytescore.init()},(j=document.createElement("script")).src=E,j.async=!0,j.onreadystatechange=j.onload=function(){var e=j.readyState;L.done||e&&!/loaded|complete/.test(e)||(L.done=!0,L())},document.getElementsByTagName("head")[0].appendChild(j)):brytescore.init()}(window),function(s){try{var a=new XMLHttpRequest,e=s.brytescore.getApiKey(),t=(s.brytescore.getAID(),s.brytescore.getUID(),"https://chat-api.brytecore.net/settings/enabled?apiKey="+e+"&domain="+s.location.hostname+"&url="+s.location.href);a.onload=function(){var e=a.response;if(e)try{var t,r,o,n=JSON.parse(e);n&&!0===n.data.is_enabled&&(n.data.key,n.data.group,t=n.data.inbox_id,r=document.createElement("script"),o=document.head||document.getElementsByTagName("head")[0],r.src="https://chatbot.brytecore.net/app/js/sdk.js",o.parentNode.insertBefore(r,o),r.onload=function(){s.chatwootSDK.run({websiteToken:t,baseUrl:""})})}catch(e){console.error(e)}},a.open("GET",t,!0),a.setRequestHeader("Content-type","application/json"),a.send()}catch(e){console.error(e)}}(window);